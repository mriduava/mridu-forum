{"version":3,"sources":["contexts/ForumContextProvider.js","images/waves.png","components/Jumbotron.js","pages/Home.js","components/ThreadList.js","contexts/UserContextProvider.js","components/Thread.js","components/ForumNavbar.js","components/ForumFooter.js","pages/Register.js","pages/Signin.js","pages/About.js","components/WritingForm.js","components/MyThreads.js","components/ForumForm.js","components/Admin.js","components/Moderator.js","components/General.js","pages/MyPage.js","routes/ProtectedRoute.js","App.js","index.js"],"names":["ForumContext","createContext","ForumContextProvider","props","useState","subjects","setSubjects","threads","setThreads","thread","setThread","subjectId","setSubjectId","threadId","setThreadId","subjectName","setSubjectName","fetchFroums","a","fetch","allSubjects","json","fetchFroumById","_id","singleSubject","fetchThreadById","_id1","_id2","singleThread","useEffect","values","Provider","value","children","Jumbotron","className","style","backgroundImage","bgimage","backgroundSize","Home","useContext","animate","useSpring","to","opacity","from","Container","fluid","Row","Col","lg","margin","borderRadius","xs","sm","map","subject","i","div","textDecoration","onClick","description","length","ThreadList","topic","author","username","toUpperCase","posts","UserContext","UserContextProvider","user","setUser","token","JSON","parse","localStorage","getItem","Thread","comment","setComment","showForm","setShowForm","showEditForm","setShowEditForm","editText","setEditText","timeFormat","time","moment","format","toggleButton","toggleEditButton","editThread","e","preventDefault","method","body","stringify","text","headers","then","res","status","deleteThread","response","ok","history","push","catch","error","Promise","reject","writeComment","md","created","whiteSpace","height","width","fontSize","paddingTop","id","role","Fade","in","tag","Form","onSubmit","FormGroup","name","placeholder","pattern","required","minLength","onChange","target","position","left","top","defaultValue","post","ForumNavbar","isOpen","setIsOpen","scrolled","setScrolled","handleScroll","offset","window","scrollY","addEventListener","document","getElementById","classList","add","remove","logoutUser","removeItem","Navbar","light","expand","NavbarToggler","Collapse","navbar","Nav","NavItem","library","fab","ForumFooter","icon","Register","setUsername","password","setPassword","message","setMessage","isValidData","stringLength","RegExp","test","registerUser","credentials","resolve","Label","for","Input","type","Signin","loginUser","setItem","FormFeedback","valid","About","textAlign","marginTop","WritingForm","subforumId","setSubforumId","setTopic","setText","timer","setTimeout","clearTimeout","createThread","MyThreads","myThreads","setMyThreads","fetchMyThreads","allMyThreads","ForumForm","forumSubject","setForumSubject","forumDescription","setForumDescription","createSubForum","disabled","AdminPage","showMyThreads","setShowMyThreads","toggleMyThreads","toggleShowForm","search","setSearch","foundUser","setFoundUser","selectedRole","setSelectedRole","userId","setUserId","userName","setUserName","userRole","setUserRole","searchUser","deleteUser","transferUserInfo","resetUserRole","u","cursor","hover","color","checked","Moderator","General","MyPage","Admin","ProtectedRoute","Component","component","rest","render","pathname","state","location","App","exact","path","ReactDOM","Fragment"],"mappings":"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","file":"static/js/main.9e6b6ad8.chunk.js","sourcesContent":["import React, {createContext, useState, useEffect } from 'react'\r\n\r\nexport const ForumContext = createContext();\r\n\r\nconst ForumContextProvider = (props) => {\r\n  const [subjects, setSubjects] = useState()\r\n  const [threads, setThreads] = useState()\r\n  const [thread, setThread] = useState()\r\n  const [subjectId, setSubjectId] = useState()\r\n  const [threadId, setThreadId] = useState()\r\n  const [subjectName, setSubjectName] = useState()\r\n\r\n  //FETCH ALL SUB-FORUM FROM API\r\n  const fetchFroums = async () => {\r\n    let allSubjects = await fetch('/api/forums')\r\n    allSubjects = await allSubjects.json();\r\n    setSubjects(allSubjects)\r\n  }\r\n\r\n  //FETCH SUB-FORUM BY ID\r\n  const fetchFroumById = async (_id, subjectName) => {\r\n    let singleSubject = await fetch(`/api/forums/${_id}`);\r\n    singleSubject = await singleSubject.json();\r\n    setThreads(singleSubject.threads)\r\n    setSubjectId(_id);\r\n    setSubjectName(subjectName);\r\n  }\r\n\r\n  const fetchThreadById = async (_id1, _id2) => {\r\n    let singleThread = await fetch(`/api/forums/${_id1}/${_id2}`)\r\n    singleThread= await singleThread.json();\r\n    setThread(singleThread);\r\n    setThreadId(_id2);\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchFroums()\r\n  }, [])\r\n\r\n  const values = {\r\n    fetchFroums,\r\n    subjects,\r\n    fetchFroumById,\r\n    threads,\r\n    fetchThreadById,\r\n    thread,\r\n    subjectId,\r\n    subjectName,\r\n    threadId\r\n  }\r\n\r\n  return (\r\n    <ForumContext.Provider value={values}>\r\n      {props.children}\r\n    </ForumContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ForumContextProvider\r\n","export default __webpack_public_path__ + \"static/media/waves.3e7f877a.png\";","import React from 'react';\r\nimport bgimage from '../images/waves.png'\r\n\r\nexport const Jumbotron = (props) => {\r\n  return (\r\n    <div className=\"jumbotron mb-2 text-center\" \r\n      style={{ backgroundImage: `url(${bgimage})`, backgroundSize: 'cover' }}>\r\n      <p className=\"home-text\">Storms don't <br/> last forever</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Jumbotron;\r\n","import React, {useContext} from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport Jumbotron from '../components/Jumbotron';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst Home = () => {\r\n  const { subjects, fetchFroumById } = useContext(ForumContext);\r\n  const animate = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } });\r\n\r\n  /**\r\n  * Iterate forum subjects array, & display data.\r\n  * onClick function call the fetchForumById method to get specific forum data.\r\n  * Link navigate to the forum detial page.\r\n  */\r\n  const mapSubjects = () => {\r\n    return subjects.map((subject, i) => {\r\n      return (\r\n        <animated.div key={'sub' + subject._id + i} style={animate}>\r\n          <Row className=\"mx-0\">\r\n            <Col xs=\"12\" sm=\"8\">\r\n              <Link to={`/${subject.subject}`} style={{ textDecoration: 'none' }}\r\n                onClick={()=>fetchFroumById(subject._id, subject.subject)}>\r\n                <h2 className=\"text-secondary mt-1 px-2\">{subject.subject}</h2>\r\n                <p className=\"text-dark text-justify px-2\">{subject.description}</p>\r\n              </Link>       \r\n            </Col>\r\n            <Col sm=\"4\" className=\"mt-5 text-right d-none d-sm-block d-md-block d-lg-block pr-4\">\r\n              <h5>{subject.threads.length}</h5>\r\n            </Col>\r\n          </Row>\r\n          <hr/>\r\n        </animated.div>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    <Container fluid className=\"px-0\">\r\n      <Row className=\"mx-0 px-0 jumbotron-area\">\r\n        <Col lg=\"12\" className=\"px-0\">\r\n          <Jumbotron/>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n\r\n      <Container className=\"mx-auto px-0\">      \r\n        <Row className=\"foram-area\">\r\n          <Col lg=\"12\">\r\n            <Row className=\"text-white border border-rounded pt-2 mb-1 forum-bar\"\r\n              style={{margin: \"0 0.5px 0 0.5px\", borderRadius: \"5px\"}}>\r\n              <Col xs=\"12\" sm=\"8\"><h4 className=\"pl-2\">Forums</h4></Col>\r\n              <Col sm=\"4\" className=\"text-right d-none d-md-block d-sm-block d-lg-block\"><h4>Threads</h4></Col>\r\n            </Row>\r\n            {subjects&&mapSubjects()}\r\n          </Col>\r\n        </Row>      \r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n\r\n","import React, {useContext} from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst ThreadList = () => {\r\n  const { threads, subjectId, subjectName, fetchThreadById } = useContext(ForumContext);\r\n\r\n   const props = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } })\r\n\r\n  const mapThreads = () => {\r\n    return threads.map((thread, i) => {\r\n      return (\r\n        <div key={'sub' + thread._id + i}>\r\n        <Row>\r\n          <Col xs=\"9\" sm=\"8\">\r\n            <Link to={`/${subjectName}/${thread.topic}`} style={{ textDecoration: 'none' }}\r\n              onClick={()=>fetchThreadById(subjectId, thread._id)}>\r\n              <h5 className=\"text-secondary mt-1 pb-0\">{thread.topic}</h5>\r\n              <p className=\"text-primary mt-0 pt-0\">Writer: {thread.author.username.toUpperCase()}</p>\r\n            </Link>       \r\n          </Col>\r\n          <Col xs=\"3\" sm=\"4\" className=\"text-right mt-2 d-none d-lg-block\">{thread.posts.length}</Col>\r\n        </Row>\r\n        <hr className=\"mt-1\"/>\r\n        </div>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container className=\"themed-container\">\r\n      <Row className=\"text-light pt-2 mb-1 thread-bar\">\r\n        <Col xs=\"9\" sm=\"8\">\r\n        <h5>\r\n          <Link to={`/`} style={{ textDecoration: 'none' }}>\r\n            <span className=\"subject-name\"> Home </span> \r\n          </Link>\r\n            &#187; {subjectName} \r\n        </h5>\r\n        </Col>\r\n        <Col xs=\"3\" sm=\"4\" className=\"text-lg-right d-none d-lg-block\"><h5>Answers</h5></Col>\r\n      </Row>\r\n      <animated.div style={props}>{threads && mapThreads()}</animated.div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ThreadList\r\n","import React, { createContext, useState, useEffect } from 'react'\r\n\r\nexport const UserContext = createContext()\r\n\r\nconst UserContextProvider = (props) => {\r\n  const [user, setUser] = useState(null)\r\n \r\n  useEffect(()=>{\r\n     const token = JSON.parse(localStorage.getItem('token'))\r\n    if (token) {\r\n      setUser(token)\r\n    }\r\n  },[])\r\n\r\n  const values = {\r\n    user,\r\n    setUser\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={values}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default UserContextProvider","import React, {useContext, useState} from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Fade } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment'\r\n\r\nconst Thread = () => {\r\n  const { subjectName, thread, subjectId, threadId, fetchThreadById } = useContext(ForumContext)\r\n  const { user } = useContext(UserContext)\r\n  const [comment, setComment] = useState('')\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [showEditForm, setShowEditForm] = useState(false)\r\n  const [editText, setEditText] = useState('');\r\n\r\n  const props = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } });\r\n\r\n  const timeFormat = (time) => {\r\n    return moment(time).format(\"YYYY-MM-DD, H:mm\");\r\n  }\r\n\r\n  const toggleButton = () =>  setShowForm(!showForm)\r\n  const toggleEditButton = () => setShowEditForm(!showEditForm)\r\n\r\n  const editThread = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/${subjectId}/${threadId}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify({\r\n        topic:thread.topic,\r\n        text:editText}),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        fetchThreadById(subjectId, threadId)\r\n        setEditText('')\r\n        toggleEditButton()\r\n      } \r\n    })\r\n  }\r\n\r\n\r\n  const renderEditForm = ()=>{\r\n    return(\r\n      <>\r\n        <Row>  \r\n          <Col xs=\"12\" sm=\"3\">\r\n            <h5 className=\"text-secondary\">{user.username.toUpperCase()}</h5>\r\n            <p className=\"pb-2 text-warning\">is going to modify</p>\r\n          </Col>       \r\n          <Col xs=\"12\" sm=\"9\">\r\n            <Form onSubmit={editThread}>\r\n              <FormGroup>\r\n                <textarea name=\"text\" id=\"text\" placeholder=\"Write your comment here...\" \r\n                  className=\"form-control\" pattern=\".{20, 5000}\" required minLength=\"20\" \r\n                  defaultValue={thread.text} onChange={e=>setEditText(e.target.value)}></textarea>\r\n              </FormGroup>\r\n              <button className=\"btn btn-outline-success mt-0\" \r\n                style={{height: \"26px\", width: \"162px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Updated Text\r\n              </button>\r\n            </Form>\r\n            <button className=\"btn btn-outline-danger mt-0\" onClick={()=>toggleEditButton()}\r\n              style={{position: \"relative\", left: 170, top: -25, height: \"26px\", \r\n              width: \"120px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Cancel\r\n            </button>          \r\n          </Col>\r\n        </Row>\r\n        <hr/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const deleteThread = async () => {\r\n    await fetch(`/api/forums/${subjectId}/${threadId}`, {\r\n      method: 'DELETE'\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        props.history.push('/')     \r\n      } \r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  const writeComment = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/${subjectId}/${threadId}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({text:comment}),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      setComment('');\r\n      toggleButton()\r\n      fetchThreadById(subjectId, threadId)\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  const renderForm = ()=>{\r\n    return(\r\n      <>\r\n        <Row>  \r\n          <Col xs=\"12\" sm=\"3\">\r\n            <h5 className=\"text-secondary\">{user.username.toUpperCase()}</h5>\r\n            <p className=\"pb-2 text-warning\">is going to reply</p>\r\n          </Col>       \r\n          <Col xs=\"12\" sm=\"9\">\r\n            <Form onSubmit={writeComment}>\r\n              <FormGroup>\r\n                <textarea name=\"text\" id=\"text\" placeholder=\"Write your comment here...\" \r\n                  className=\"form-control\" pattern=\".{100, 5000}\" required minLength=\"100\" \r\n                  value={comment} onChange={e=>setComment(e.target.value)}></textarea>\r\n              </FormGroup>\r\n              <button className=\"btn btn-outline-success mt-0\" \r\n                style={{height: \"26px\", width: \"162px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Comment\r\n              </button>\r\n            </Form>\r\n            <button className=\"btn btn-outline-danger mt-0\" onClick={()=>toggleButton()}\r\n              style={{position: \"relative\", left: 170, top: -25, height: \"26px\", \r\n              width: \"120px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Cancel\r\n            </button>          \r\n          </Col>\r\n        </Row>\r\n        <hr/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const mapThreads = () => {\r\n      return (\r\n        <div key={'sub' + thread._id}>\r\n          <Row className=\"text-light pt-2 thread-bar\">\r\n            <Col xs=\"12\" sm=\"12\" md=\"8\">\r\n              <h5>\r\n                <Link to={`/`} style={{ textDecoration: 'none' }}>\r\n                  <span className=\"subject-name\"> Home </span> \r\n                </Link>\r\n                 &#187; \r\n                <Link to={`/${subjectName}`} style={{ textDecoration: 'none' }}>\r\n                  <span className=\"subject-name\"> {subjectName} </span> \r\n                </Link>\r\n                &#187; {thread.topic}\r\n              </h5>\r\n            </Col>\r\n            <Col xs=\"0\" sm=\"0\" md=\"4\" className=\"text-lg-right d-none d-lg-block\"><h5>{thread.posts.length} Comments</h5></Col>\r\n          </Row>\r\n          <Row className=\"mt-3\">\r\n            <Col xs=\"12\" sm=\"3\">\r\n              <p className=\"mb-0 text-danger\">Writer</p>\r\n              <h4 className=\"text-secondary pb-2\">{thread.author.username.toUpperCase()}</h4>              \r\n            </Col>\r\n            <Col xs=\"12\" sm=\"9\">\r\n              <p className=\"mb-0\">{timeFormat(thread.created)}</p>\r\n              <p className=\"text-dark mt-1 text-justify\" style={{whiteSpace: \"pre-wrap\"}}>{thread.text}</p>         \r\n              {(() => {\r\n                if (user!==null) {\r\n                  return (\r\n                    <>\r\n                    <hr className=\"p-0 m-0\"/>\r\n                    <button className=\"btn btn-outline-success mt-3 mr-2\" onClick={()=>toggleButton()}\r\n                        style={{height: \"26px\", width: \"90px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Reply\r\n                    </button>\r\n                    </>\r\n                  )\r\n                }\r\n              })()}\r\n              {(() => {      \r\n                if (user !==null && (user.id === thread.author.id || user.role === 'admin' || user.role === 'moderator')) {\r\n                  return (\r\n                    <>\r\n                    <button className=\"btn btn-outline-primary mt-3 mr-2\" onClick={()=>toggleEditButton()}\r\n                        style={{height: \"26px\", width: \"90px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Edit\r\n                    </button>\r\n                    <button className=\"btn btn-outline-danger mt-3\" onClick={()=>deleteThread()}\r\n                        style={{height: \"26px\", width: \"90px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Delete\r\n                    </button> \r\n                    </>\r\n                  )\r\n                } \r\n              })()}\r\n            </Col>  \r\n          </Row>\r\n           <hr/>\r\n          <Fade in={showForm} tag=\"h5\" className=\"mt-3\">\r\n            {showForm&&renderForm()}    \r\n          </Fade> \r\n          <Fade in={showEditForm} tag=\"h5\" className=\"mt-3\">  \r\n            {showEditForm&&renderEditForm()}  \r\n          </Fade>      \r\n        </div>     \r\n      )\r\n  }\r\n\r\n  const mapThreadPosts = () => {\r\n    return thread.posts.map((post, i) => {\r\n      return (\r\n        <div key={'pos' + post._id}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"3\">\r\n              <p className=\"mb-0 text-success\">Replied by</p>\r\n              <h5 className=\"text-secondary pb-2\">{post.author.username.toUpperCase()}</h5>\r\n            </Col>\r\n            <Col xs=\"12\" sm=\"9\">\r\n              <p className=\"mb-0\">{timeFormat(post.created)}</p>\r\n              <p className=\"text-secondary mt-1 text-justify\">{post.text}</p>     \r\n            </Col>\r\n          </Row>\r\n          <hr/>\r\n        </div>  \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container className=\"themed-container\">\r\n      <animated.div style={props}>{thread && mapThreads()}</animated.div>\r\n      <animated.div style={props}>{thread && mapThreadPosts()}</animated.div> \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Thread","import React, { useState, useContext,useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport {Container, Collapse, Navbar, NavbarToggler, Nav, NavItem} from 'reactstrap';\r\n\r\nconst ForumNavbar= (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggle = () => setIsOpen(!isOpen);\r\n  const { user, setUser} = useContext(UserContext);\r\n\r\n  /**\r\n   * Sticky Navabr\r\n   */\r\n  const [scrolled, setScrolled]= useState(false);\r\n  const handleScroll = () => {\r\n    const offset = window.scrollY;\r\n    offset > 200 ?setScrolled(true):setScrolled(false); \r\n  }\r\n\r\n  useEffect(()=>{\r\n    window.addEventListener('scroll', handleScroll);\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (scrolled) {\r\n      document.getElementById(\"sticky\").classList.add(\"sticky-top\");\r\n    }else{\r\n      document.getElementById(\"sticky\").classList.remove(\"sticky-top\");\r\n    }\r\n  }, [scrolled])\r\n \r\n  /**\r\n  * Function to logout users.\r\n  */\r\n  const logoutUser = async () => {\r\n    await fetch('/logout')\r\n    setUser(null)\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar px-0 py-0\" id=\"sticky\">\r\n      <Container className=\"px-lg-0\">\r\n        <Navbar light expand=\"md\" className=\"px-0\">\r\n          <Link to=\"/\" className=\"navbar-brand text-datk font-weight-bold\"><h3>MRIDU FORUM</h3></Link>\r\n          <NavbarToggler onClick={toggle} />\r\n          <Collapse isOpen={isOpen} navbar>\r\n            <Nav className=\"ml-auto mt-2 right-nav\" navbar>\r\n              <NavItem>\r\n                <Link to=\"/about\">\r\n                  <h5 className=\"text-dark mr-lg-4\">ABOUT</h5>\r\n                </Link>\r\n              </NavItem>\r\n              {!user?(\r\n              <>\r\n                <NavItem>\r\n                  <Link to=\"/register\">\r\n                    <h5 className=\"text-dark mr-lg-4\">REGISTER</h5>\r\n                  </Link>\r\n                </NavItem>\r\n                <NavItem>\r\n                  <Link to=\"/signin\">\r\n                    <h5 className=\"text-dark\">SIGN IN</h5>\r\n                  </Link>\r\n                </NavItem>\r\n              </>\r\n              ):(\r\n              <>\r\n                <NavItem>\r\n                  <Link to=\"/mypage\">\r\n                    <h5 className=\"text-dark mr-lg-4\">MY PAGE</h5>\r\n                  </Link>\r\n                </NavItem>\r\n                <NavItem>\r\n                  <Link onClick={logoutUser} to=\"/\"> \r\n                    <h5 className=\"text-dark\">LOGOUT</h5>\r\n                  </Link>\r\n                </NavItem>\r\n              </>\r\n              )}\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForumNavbar;","import React from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container, Row, Col} from 'reactstrap'\r\nlibrary.add(fab)\r\n\r\nconst ForumFooter = () => {\r\n  return (\r\n    <div className=\"footer\">\r\n      <Container className=\"bottom footer-bar\" fluid>\r\n        <Row>\r\n          <Col lg=\"12\" className=\"px-0\">\r\n            <div className=\"footer-bar\"></div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <div className=\"footer-top\">\r\n      <Container className=\"px-lg-0\">\r\n        <Row className=\"\">      \r\n          <Col lg=\"4\" className=\"pt-3\">\r\n            <p className=\"mb-0 font-weight-bold text-priamry\">CONTACT</p>\r\n            <hr className=\"my-0 bg-secondary\"/>\r\n            <p className=\"mb-0\"><span className=\"text-white\">MARUF AHMED</span></p>\r\n            <p className=\"mb-0 \"><span className=\"text-white\">Email: </span><span className=\"text-white\">maruf.ahmed@live.se</span></p>\r\n            <p><span  className=\"text-white\">GitHub :</span><span className=\"text-white\"> github.com/mriduava/mridu-forum</span></p>\r\n          </Col>\r\n          <Col lg=\"4\" className=\"pt-3 text-lg-center\">\r\n            <p className=\"mb-0 font-weight-bold text-priamry\">MEDIA ICONS</p>\r\n            <hr className=\"my-0 bg-secondary\"/>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <h4 className=\"mt-3 mr-1\">\r\n                <span className=\"text-white\"><FontAwesomeIcon icon={[\"fab\", \"linkedin\"]} /></span>\r\n              </h4>\r\n              <h4 className=\"mt-3 mx-1\">\r\n                <span className=\"text-white\"><FontAwesomeIcon icon={[\"fab\", \"facebook\"]} /></span>\r\n              </h4>\r\n              <h4 className=\"mt-3 mx-1\">\r\n                <span className=\"text-white\"><FontAwesomeIcon icon={[\"fab\", \"github\"]} /></span>\r\n              </h4>\r\n            </div>   \r\n          </Col>\r\n          <Col lg=\"4\" className=\"text-lg-right pt-3\">\r\n            <p className=\"mb-0 font-weight-bold text-priamry\">USEFUL LINK</p>\r\n            <hr className=\"my-0 bg-secondary\"/>\r\n            <Link className=\"text-dark\" to=\"/signin\">\r\n              <p className=\"mb-0\"><span className=\"text-white\">SIGN IN</span></p>\r\n            </Link>\r\n            <Link className=\"text-dark\" to=\"/register\">\r\n              <p className=\"mb-0\"><span className=\"text-white\">REGISTER</span></p>\r\n            </Link>\r\n            <Link className=\"text-dark\" to=\"/about\">\r\n              <p className=\"mb-0\"><span className=\"text-white\">ABOUT</span></p>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      </div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col lg=\"12\" className=\"footer-bottom\">\r\n            <div style={{height: \"30px\"}}>\r\n              <p className=\"mb-0\">&copy; 2021 MARUF AHMED</p>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container> \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForumFooter\r\n","import React, {useState, useContext} from 'react';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Label, Input } from 'reactstrap';\r\n\r\nconst Register = (props) => {\r\n  const { setUser } = useContext(UserContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  //CHECK WHITE SPACE, & LENGTH OF THE STRING\r\n  const isValidData = (value, stringLength) => {\r\n    let inValid = new RegExp('^[_A-z0-9]{1,}$');\r\n    let result = inValid.test(value);\r\n    if(result && value.length >= stringLength){\r\n     return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  const registerUser = async(e) => {\r\n    e.preventDefault();\r\n    if (!isValidData(username, 3)) {\r\n       setMessage(\"Username must be at least 3 characters without space!\")\r\n       return;\r\n    }\r\n    if (!isValidData(password, 6)) {\r\n       setMessage(\"Password must be at least 6 characters without space!\")\r\n       return;\r\n    }\r\n    const credentials = {\r\n      username,\r\n      password\r\n    }      \r\n    await fetch('/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        response = response.json();\r\n        Promise.resolve(response)\r\n        .then(user => setUser(user))          \r\n        props.history.push('/signin') \r\n      } else {  \r\n        setMessage(\"Username is used!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Container className=\"border border-secondary pb-5 register-area\" >\r\n      <Row>\r\n        <Col xs=\"12\" sm=\"8\" md=\"6\" lg=\"5\" className=\"mx-auto m-5 border border-rounded p-5\"> \r\n          <h4 className=\"text-dark font-weight-bold\">Registration</h4>\r\n          <hr/>\r\n          <Form onSubmit={registerUser}>\r\n            <FormGroup>\r\n              <Label for=\"username\">Username</Label>\r\n              <Input type=\"username\" name=\"username\" id=\"username\"\r\n                value={username} onChange={e=>setUsername(e.target.value)} required/>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"password\">Password</Label>\r\n              <Input type=\"password\" name=\"password\" id=\"password\"\r\n                value={password} onChange={e=>setPassword(e.target.value)} required/>\r\n            </FormGroup>\r\n            <button className=\"btn btn-block btn-outline-success mt-4\">SUBMIT</button>\r\n            <div className=\"pt-2 text-danger\">{message}</div>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React, {useState, useContext} from 'react';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Label, Input, FormFeedback } from 'reactstrap';\r\n\r\nconst Signin = (props) => {\r\n  const { setUser} = useContext(UserContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  const loginUser = async (e) => {\r\n    e.preventDefault();\r\n    const credentials = {\r\n      username, password\r\n    }\r\n    await fetch('/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        response = response.json();\r\n        Promise.resolve(response)\r\n        .then(user => {\r\n          setUser(user)\r\n          localStorage.setItem('token', JSON.stringify(user));\r\n          props.history.push('/mypage');\r\n        })             \r\n        // props.history.push('/mypage') \r\n      } else {\r\n        setMessage(\"Username or Password incorrect!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Container className=\"border border-secondary pb-5\">\r\n      <Row>\r\n        <Col xs=\"12\" sm=\"8\" md=\"6\" lg=\"5\" className=\"mx-auto m-5 border border-rounded p-5\"> \r\n          <h4 className=\"text-dark font-weight-bold\">Sign in</h4>\r\n          <hr/>\r\n          {/* <div className=\"d-block\">\r\n            <a href=\"/auth/google\" className=\"btn btn-outline-danger d-block\"><span className=\"fa fa-google\"></span> SignIn with Google</a>\r\n          </div>\r\n          <hr/> */}\r\n          <Form onSubmit={loginUser}>\r\n            <FormGroup>\r\n              <Label for=\"username\">Username</Label>\r\n              <Input type=\"username\" name=\"username\" id=\"username\" \r\n                value={username} onChange={e=>setUsername(e.target.value)} required/>\r\n              <FormFeedback valid>Username is not correct!</FormFeedback>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"password\">Password</Label>\r\n              <Input type=\"password\" name=\"password\" id=\"password\"\r\n                value={password} onChange={e=>setPassword(e.target.value)} required/>\r\n              <FormFeedback>Wrong password!</FormFeedback>\r\n            </FormGroup>\r\n            <button className=\"btn btn-block btn-outline-success mt-4\">SUBMIT</button>\r\n            <div className=\"pt-2 text-danger\">{message}</div>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Signin\r\n","import React from 'react'\r\nimport { Container } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst About = () => {\r\n  const animate = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } })\r\n  return (\r\n    <Container style={{textAlign:'center'}} className=\"border border-secondary pb-5\">\r\n      <animated.div style={animate}>\r\n        <h1 style={{marginTop: '10%'}}>THIS IS A DEMO WEB SITE</h1>\r\n      </animated.div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default About\r\n","import React, {useContext, useState, useEffect } from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Form, FormGroup, Input } from 'reactstrap';\r\n\r\nconst WritingForm = () => {\r\n  const { subjects } = useContext(ForumContext)\r\n  const [subforumId, setSubforumId] = useState('')\r\n  const [topic, setTopic] = useState('')\r\n  const [text, setText] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  const mapSubjects = () => {\r\n    return(\r\n      <Input type=\"select\" name=\"select\" id=\"exampleSelect\" required\r\n        onChange={e=>setSubforumId(e.target.value)}>\r\n         <option value =''>Select a Sub-Forum</option>\r\n         {(() => {\r\n          return subjects.map((subject, i) => {\r\n            return (\r\n              <option key={'sub' + subject._id + i} \r\n                value={subject._id}>\r\n                {subject.subject}\r\n              </option>\r\n            )\r\n          })\r\n        })()}\r\n      </Input>\r\n    )\r\n  }\r\n\r\n  const displayAlert = () => {\r\n    return(\r\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">{message}</div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (message!==null) {\r\n        setMessage(null)\r\n      }\r\n    }, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [message]);\r\n\r\n  const createThread = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/${subforumId}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({topic, text}),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        setMessage(\"Thread submission successful!\") \r\n        setSubforumId('')\r\n        setTopic('')\r\n        setText('')      \r\n      } else {\r\n        setMessage(\"Thread submission failed!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Form className=\"mt-3 mb-4\" onSubmit={createThread}>\r\n      <FormGroup>\r\n        {subjects&&mapSubjects()}   \r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Input type=\"text\" name=\"topic\" id=\"topic\" placeholder=\"Write a title...\" \r\n          minLength=\"6\" value={topic} onChange={e=>setTopic(e.target.value)} required/>\r\n      </FormGroup>     \r\n      <FormGroup>\r\n        <Input type=\"textarea\" name=\"text\" id=\"text\" placeholder=\"Write in detail...\" \r\n          minLength=\"15\" value={text} onChange={e=>setText(e.target.value)} required/>\r\n      </FormGroup>\r\n      <button className=\"btn btn-outline-success mt-0\" \r\n        style={{height: \"26px\", width: \"190px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Thread\r\n      </button>\r\n    </Form>\r\n      {message&&displayAlert()}\r\n      <hr/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WritingForm\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Row, Col } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst MyThreads= () => {\r\n  const { user } = useContext(UserContext)\r\n  const [myThreads, setMyThreads] = useState([])\r\n\r\n  const animate = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } });\r\n\r\n  useEffect(()=>{\r\n    const fetchMyThreads = async () => {\r\n      let allMyThreads = await fetch(`/search/mythreads?username=${user.username}`)\r\n      allMyThreads = await allMyThreads.json();\r\n      setMyThreads(allMyThreads)\r\n    }\r\n    fetchMyThreads()\r\n  }, [user.username])\r\n\r\n  /**\r\n  * Iterate myThreads array, and display data.\r\n  */\r\n  const mapThreads = () => {\r\n    return myThreads.map((thread, i) => {\r\n      return (\r\n        <ul key={'sub' + thread._id + i}>\r\n          <li>\r\n            {i+1}.\r\n            <span> {thread.topic}</span>\r\n          </li>    \r\n        </ul>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return ( \r\n    <Row>\r\n      <Col lg=\"12\">\r\n        <animated.div className=\"my-threads\" style={animate}>\r\n          {myThreads&&mapThreads()}\r\n        </animated.div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default MyThreads\r\n","import React, {useState, useEffect, useContext } from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Form, FormGroup, Input } from 'reactstrap';\r\n\r\nconst ForumForm = () => {\r\n  const { fetchFroums} = useContext(ForumContext)\r\n  const [forumSubject, setForumSubject] = useState('')\r\n  const [forumDescription, setForumDescription] = useState('')\r\n  const [message, setMessage] = useState()\r\n\r\n\r\n  /**\r\n  * Display success or failure pop-up message after Posting a subforum.\r\n  */\r\n  const displayAlert = () => {\r\n    return(\r\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">{message}</div>\r\n    )\r\n  }\r\n\r\n  /**\r\n  * Set the message state to null after 3 seconds.\r\n  * Its allow the pop-up message to disappear.\r\n  */\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (message!==null) {\r\n        setMessage(null)\r\n      }\r\n    }, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [message]);\r\n\r\n  const createSubForum = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n          subject: forumSubject, \r\n          description: forumDescription\r\n        }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      fetchFroums()\r\n      if (response.ok) {\r\n        setMessage(\"Sub-Forum submission successful!\") \r\n        setForumSubject('')\r\n        setForumDescription('')      \r\n      } else {\r\n        setMessage(\"Sub-Forum submission failed!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Form className=\"mt-3 mb-4\" onSubmit={createSubForum}>\r\n        <FormGroup>\r\n          <Input type=\"select\" name=\"select\" id=\"exampleSelect\" disabled>\r\n          <option value ='' disabled>Select a Sub-Forum</option>\r\n          </Input>  \r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Input type=\"text\" name=\"topic\" id=\"topic\" placeholder=\"Write a forum subject..\" \r\n            value={forumSubject} onChange={e=>setForumSubject(e.target.value)} required/>\r\n        </FormGroup>     \r\n        <FormGroup>\r\n          <Input type=\"textarea\" name=\"text\" id=\"text\" placeholder=\"Write forum description...\" \r\n            value={forumDescription} onChange={e=>setForumDescription(e.target.value)} required/>\r\n        </FormGroup>\r\n        <button className=\"btn btn-outline-success mt-0\" \r\n          style={{height: \"26px\", width: \"190px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Sub-Forum\r\n        </button>\r\n      </Form>\r\n      {message&&displayAlert()}\r\n      <hr/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ForumForm\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Input, FormFeedback } from 'reactstrap';\r\nimport WritingForm from './WritingForm'\r\nimport MyThreads from './MyThreads'\r\nimport ForumForm from './ForumForm'\r\n\r\nconst AdminPage = () => {\r\n  const { user } = useContext(UserContext)\r\n  const [showMyThreads, setShowMyThreads] = useState(true);\r\n  const toggleMyThreads = () => setShowMyThreads(!showMyThreads);\r\n  const [showForm, setShowForm] = useState(true)\r\n  const toggleShowForm = () => setShowForm(!showForm)\r\n  const [search, setSearch] = useState('')\r\n  const [foundUser, setFoundUser] = useState(null)\r\n  const [selectedRole, setSelectedRole] = useState('');\r\n  const [userId, setUserId] = useState(null);\r\n  const [userName, setUserName] = useState(null);\r\n  const [userRole, setUserRole] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const searchUser = async (e) => {\r\n    e.preventDefault();    \r\n    let user = await fetch(`/search/user?username=${search}&role=${search}`)\r\n    user = await user.json();\r\n    setFoundUser(user)\r\n    setSearch('')\r\n  }\r\n\r\n  const deleteUser = async (id) => {\r\n    await fetch(`/api/users/${id}`, {\r\n      method: 'DELETE'\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        setUserName(null)\r\n        setMessage('The user has been deleted!')   \r\n      } \r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  const dispUserInfo =() => {\r\n    return foundUser.map((u, i) => {\r\n      return (\r\n        <div key={'sub' + u._id + i}>\r\n          <hr/>\r\n          <Row className=\"pt-2 found_user\" style={{cursor: \"pointer\"}}\r\n            onClick={()=>transferUserInfo(u._id, u.username, u.role)}>\r\n            <Col xs=\"9\" sm=\"8\">  \r\n              <h4 className=\"text-secondary mt-1 pb-0\">{u.username}</h4>\r\n              <p className=\"text-primary mt-0 pt-0\">role: {u.role}</p>\r\n            </Col>         \r\n          </Row>\r\n        </div>    \r\n      )\r\n    })\r\n  }\r\n\r\n  const transferUserInfo =(id, username, role) => {\r\n    setUserId(id)\r\n    setUserName(username);\r\n    setUserRole(role);\r\n    setFoundUser(null);\r\n    setSelectedRole(role);\r\n  }\r\n\r\n  const resetUserRole = async (e) => {\r\n    e.preventDefault();    \r\n    await fetch(`/api/users?username=${userName}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify({role:selectedRole}),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        setUserName(null)\r\n        setMessage('Role setting successful!')\r\n      } else {\r\n        setMessage(\"Role setting failed!\")\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  const dispToModifyUser = ()=>{\r\n    return(\r\n      <>\r\n      <div className=\"bg-success pt-2 pl-0 ml-0 mb-3 pb-0\" style={{height: \"40px\", hover: {color: \"white\"} }} >\r\n        <h5 className=\"pl-2 text-light pb-0\">Modify User</h5>  \r\n      </div>\r\n      <Row className=\"pl-1\">\r\n        <Col xs=\"12\" sm=\"12\" lg=\"6\">\r\n          <h5>Username</h5>\r\n          <div>\r\n            <h2 className=\"text-info mt-2 p-0\">{userName}</h2>\r\n            <p className=\"text-success mt-0 pt-0\">Present Role: {userRole}</p>\r\n          </div>\r\n          <button className=\"btn btn-outline-danger mt-3\" onClick={()=>deleteUser(userId)}\r\n              style={{height: \"30px\", width: \"150px\", fontSize: \"16px\", paddingTop: \"2px\"}}>Delete User\r\n          </button>\r\n        </Col>\r\n        <Col xs=\"12\" sm=\"12\" lg=\"6\" >\r\n          <Form onSubmit={resetUserRole}>\r\n            <h5 className=\"py-0\">Set role</h5>\r\n            <div className=\"form-check\">\r\n              <input type=\"radio\" className=\"mt-2\" value=\"admin\" \r\n                checked={selectedRole === 'admin'? true: false}\r\n                onChange={e=>setSelectedRole(e.target.value)}/>\r\n              <label className=\"form-check-label pl-2\">\r\n                admin\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check\">\r\n              <input type=\"radio\" className=\"mt-2\" value=\"moderator\" \r\n                checked={selectedRole === 'moderator'? true: false}\r\n                onChange={e=>setSelectedRole(e.target.value)} />\r\n              <label className=\"form-check-label pl-2\">\r\n                moderator\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check\">\r\n              <input type=\"radio\" className=\"mt-2\" value=\"general\" \r\n                checked={selectedRole === 'general'? true: false}\r\n                onChange={e=>setSelectedRole(e.target.value)} />\r\n              <label className=\"form-check-label pl-2 mt-0\">\r\n                general\r\n              </label>\r\n            </div>\r\n            <button className=\"btn btn-outline-success my-3\" \r\n              style={{height: \"30px\", width: \"150px\", fontSize: \"16px\", paddingTop: \"2px\"}}>Set Role\r\n            </button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <hr style={{height:\"23px\"}}/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const displayAlert = () => {\r\n    return(\r\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">{message}</div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (message!==null) {\r\n        setMessage(null)\r\n      }\r\n    }, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [message]);\r\n\r\n\r\n  const renderModifyUser = () =>{\r\n    return(\r\n      <>\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <Form onSubmit={searchUser} className=\"d-flex\">\r\n            <FormGroup>\r\n              <Input type=\"username\" name=\"username\" id=\"username\" placeholder=\"Search user\"\r\n                className=\"border border-secondary\" style={{height: \"32px\"}}\r\n                value={search} onChange={e=>setSearch(e.target.value)} required/>\r\n              <FormFeedback valid>Username is not correct!</FormFeedback>\r\n            </FormGroup>\r\n            <button className=\"btn btn-outline-secondary py-0\" style={{height: \"32px\", width:\"120px\"}}>Search</button>\r\n          </Form>\r\n        </Col>\r\n        <div style={{fontSize: \"14px\"}}>\r\n          <p className=\"ml-3\" >Searh user by username or role. </p>\r\n          <p className=\"ml-3\" style={{marginTop: \"-15px\"}}>To modify a user, click on the username.</p>\r\n        </div>\r\n      </Row>\r\n\r\n      {foundUser&&dispUserInfo()}\r\n      <hr/>\r\n      {userName&&dispToModifyUser()}\r\n      {message&&displayAlert()}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container className=\"border border-info pb-5\">\r\n\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <h1 className=\"text-info font-weight-bold pt-5 ml-3\">{user&&user.username.toUpperCase()}</h1>\r\n          <h6 className=\"text-secondary ml-3\">ROLE: <span className=\"text-success\">{user&&user.role.toUpperCase()}</span></h6>\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"mx-auto\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n          <Row className=\"d-flex\">\r\n            <Col lg=\"12\" className=\"d-flex justify-content-between\">\r\n                <button className=\"btn btn-outline-primary m-0\" disabled={showForm}\r\n                  onClick={toggleShowForm}>Create a Thread\r\n                </button>\r\n                <button className=\"btn btn-outline-primary align-self-end \" disabled={!showForm}\r\n                  onClick={toggleShowForm}>Create a Sub-Forum\r\n                </button>\r\n            </Col>\r\n          </Row>\r\n     \r\n          <hr className=\"ml-1\"/>\r\n           {showForm?(\r\n            <WritingForm/>\r\n           ):(\r\n            <ForumForm/>\r\n           )}\r\n        </Col>\r\n\r\n\r\n         <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n            <Row className=\"d-flex\">\r\n              <Col lg=\"12\" className=\"d-flex justify-content-between\">\r\n                <button className=\"btn btn-outline-info ml-lg-3\" disabled={showMyThreads}\r\n                  onClick={toggleMyThreads}>My Threads\r\n                </button>\r\n                <button className=\"btn btn-outline-info mr-0\" disabled={!showMyThreads} \r\n                  onClick={toggleMyThreads}>Modify User</button>\r\n              </Col>\r\n            </Row>\r\n\r\n           <hr className=\"ml-lg-3\"/>\r\n\r\n           <div className=\"ml-lg-3 mt-3\">\r\n              {showMyThreads?(\r\n                <div>\r\n                  <MyThreads/>\r\n                </div>  \r\n              ):(\r\n                <div>\r\n                  {renderModifyUser()}\r\n                </div>\r\n              )}\r\n           </div>\r\n        </Col>\r\n        \r\n      </Row>\r\n    \r\n      \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default AdminPage\r\n","import React, {useContext } from 'react'\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport WritingForm from './WritingForm'\r\nimport MyThreads from './MyThreads'\r\n\r\nconst Moderator = () => {\r\n  const { user } = useContext(UserContext)\r\n\r\n  return (\r\n    <Container className=\"border border-info pb-5\">\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <h1 className=\"text-info font-weight-bold pt-5 ml-3\">{user&&user.username.toUpperCase()}</h1>\r\n          <h6 className=\"text-secondary ml-3\">ROLE: <span className=\"text-success\">{user&&user.role.toUpperCase()}</span></h6>\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"mx-auto\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n          <h4 className=\"ml-0\">Create a thread</h4>\r\n          <hr className=\"ml-1\"/>\r\n          <WritingForm/>\r\n        </Col>\r\n         <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n           <h4 className=\"ml-lg-3 mt-xs-5\">My threads</h4>\r\n           <hr className=\"ml-lg-3\"/>\r\n           <div className=\"ml-lg-3 mt-4\">\r\n              <MyThreads/>\r\n           </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Moderator","import React, {useContext } from 'react'\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport WritingForm from './WritingForm'\r\nimport MyThreads from './MyThreads'\r\n\r\nconst General = () => {\r\n  const { user } = useContext(UserContext)\r\n\r\n  return (\r\n    <Container className=\"border border-info pb-5\">\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <h1 className=\"text-info font-weight-bold pt-5 ml-3\">{user&&user.username.toUpperCase()}</h1>\r\n          <h6 className=\"text-secondary ml-3\">ROLE: <span className=\"text-success\">{user&&user.role.toUpperCase()}</span></h6>\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"mx-auto\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n          <h4 className=\"ml-0\">Create a thread</h4>\r\n          <hr className=\"ml-1\"/>\r\n          <WritingForm/>\r\n        </Col>\r\n         <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n           <h4 className=\"ml-lg-3 mt-xs-5\">My threads</h4>\r\n           <hr className=\"ml-lg-3\"/>\r\n           <div className=\"ml-lg-3 mt-4\">\r\n              <MyThreads/>\r\n           </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default General","import React, {useContext} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport AdminPage from '../components/Admin'\r\nimport ModeratorPage from '../components/Moderator'\r\nimport GeneralPage from '../components/General'\r\n\r\nconst MyPage = () => {\r\n  const { user } = useContext(UserContext)\r\n\r\n  return (\r\n    <>\r\n    {(() => {\r\n        if (user!==null && user.role==='admin') {\r\n          return (\r\n            <><AdminPage/></>\r\n          )\r\n        } else if (user!==null && user.role==='moderator') {\r\n          return (\r\n            <><ModeratorPage/></>\r\n          )\r\n        } else {\r\n          return (\r\n            <><GeneralPage/></>\r\n          )\r\n        }\r\n      })()}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyPage\r\n","import React, {useContext} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useContext(UserContext);\r\n  \r\n  return (\r\n    <Route {...rest} render={\r\n      props => {\r\n        if (user) {\r\n          return <Component {...rest} {...props} />\r\n        } else {\r\n          return <Redirect to={\r\n            {\r\n              pathname: '/',\r\n              state: {\r\n                from: props.location\r\n              }\r\n            }\r\n          } />\r\n        }\r\n      }\r\n    } />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Home from './pages/Home'\r\nimport ThreadList from './components/ThreadList'\r\nimport Thread from './components/Thread'\r\nimport Navbar from './components/ForumNavbar'\r\nimport Footer from './components/ForumFooter'\r\nimport Register from './pages/Register'\r\nimport Signin from './pages/Signin'\r\nimport About from './pages/About'\r\nimport MyPage from './pages/MyPage'\r\nimport ProtectedRoute from './routes/ProtectedRoute'\r\nimport ForumContextProvider from './contexts/ForumContextProvider'\r\nimport UserContextProvider from './contexts/UserContextProvider'\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <UserContextProvider>\r\n      <ForumContextProvider>\r\n        <Router>         \r\n          <Navbar/>       \r\n            <div className=\"content\">\r\n              <Switch>  \r\n                <ProtectedRoute exact path='/mypage' component={MyPage} />          \r\n                <Route exact path=\"/\" component={Home} />                  \r\n                <Route exact path=\"/register\" component={Register} />\r\n                <Route exact path=\"/signin\" component={Signin} />\r\n                <Route exact path=\"/about\" component={About} /> \r\n                <Route exact path=\"/:id\" component={ThreadList} />\r\n                <Route exact path=\"/:id1/:id2\" component={Thread} />                                   \r\n              </Switch>\r\n            </div>\r\n          <Footer/>                    \r\n        </Router>\r\n      </ForumContextProvider>\r\n      </UserContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/main.scss';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}