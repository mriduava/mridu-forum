{"version":3,"sources":["contexts/ForumContextProvider.js","images/waves.png","components/Jumbotron.js","pages/Home.js","components/ThreadList.js","contexts/UserContextProvider.js","components/Thread.js","components/ForumNavbar.js","components/ForumFooter.js","pages/Register.js","pages/Signin.js","pages/About.js","components/WritingForm.js","components/MyThreads.js","components/ForumForm.js","components/Admin.js","components/Moderator.js","components/General.js","pages/MyPage.js","routes/ProtectedRoute.js","App.js","index.js"],"names":["ForumContext","createContext","ForumContextProvider","props","useState","subjects","setSubjects","threads","setThreads","thread","setThread","subjectId","setSubjectId","threadId","setThreadId","subjectName","setSubjectName","fetchFroums","a","fetch","allSubjects","json","fetchFroumById","_id","singleSubject","fetchThreadById","_id1","_id2","singleThread","useEffect","values","Provider","value","children","Jumbotron","className","style","backgroundImage","bgimage","backgroundSize","Home","useContext","Container","fluid","Row","Col","lg","margin","borderRadius","xs","sm","map","subject","i","to","textDecoration","onClick","description","length","ThreadList","useSpring","opacity","from","div","topic","author","username","toUpperCase","posts","UserContext","UserContextProvider","user","setUser","token","JSON","parse","localStorage","getItem","Thread","comment","setComment","showForm","setShowForm","showEditForm","setShowEditForm","editText","setEditText","timeFormat","time","moment","format","toggleButton","toggleEditButton","editThread","e","preventDefault","method","body","stringify","text","headers","then","res","status","deleteThread","response","ok","history","push","catch","error","Promise","reject","writeComment","md","created","whiteSpace","height","width","fontSize","paddingTop","id","role","Fade","in","tag","Form","onSubmit","FormGroup","name","placeholder","pattern","required","minLength","onChange","target","position","left","top","defaultValue","post","ForumNavbar","isOpen","setIsOpen","scrolled","setScrolled","handleScroll","offset","window","scrollY","addEventListener","document","getElementById","classList","add","remove","logoutUser","removeItem","Navbar","light","expand","NavbarToggler","Collapse","navbar","Nav","NavItem","library","fab","ForumFooter","icon","Register","setUsername","password","setPassword","message","setMessage","isValidData","stringLength","RegExp","test","registerUser","credentials","resolve","minHeight","Label","for","Input","type","Signin","loginUser","setItem","href","FormFeedback","valid","About","textAlign","marginTop","WritingForm","subforumId","setSubforumId","setTopic","setText","timer","setTimeout","clearTimeout","createThread","MyThreads","myThreads","setMyThreads","allMyThreads","fetchMyThreads","ForumForm","forumSubject","setForumSubject","forumDescription","setForumDescription","createSubForum","disabled","AdminPage","showMyThreads","setShowMyThreads","toggleMyThreads","toggleShowForm","search","setSearch","foundUser","setFoundUser","selectedRole","setSelectedRole","userId","setUserId","userName","setUserName","userRole","setUserRole","searchUser","deleteUser","transferUserInfo","resetUserRole","u","cursor","hover","color","checked","Moderator","General","MyPage","Admin","ProtectedRoute","Component","component","rest","render","pathname","state","location","App","exact","path","ReactDOM","Fragment"],"mappings":"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","file":"static/js/main.1ee06b28.chunk.js","sourcesContent":["import React, {createContext, useState, useEffect } from 'react'\r\n\r\nexport const ForumContext = createContext();\r\n\r\nconst ForumContextProvider = (props) => {\r\n  const [subjects, setSubjects] = useState()\r\n  const [threads, setThreads] = useState()\r\n  const [thread, setThread] = useState()\r\n  const [subjectId, setSubjectId] = useState()\r\n  const [threadId, setThreadId] = useState()\r\n  const [subjectName, setSubjectName] = useState()\r\n\r\n  //FETCH ALL SUB-FORUM FROM API\r\n  const fetchFroums = async () => {\r\n    let allSubjects = await fetch('/api/forums')\r\n    allSubjects = await allSubjects.json();\r\n    setSubjects(allSubjects)\r\n  }\r\n\r\n  //FETCH SUB-FORUM BY ID\r\n  const fetchFroumById = async (_id, subjectName) => {\r\n    let singleSubject = await fetch(`/api/forums/${_id}`);\r\n    singleSubject = await singleSubject.json();\r\n    setThreads(singleSubject.threads)\r\n    setSubjectId(_id);\r\n    setSubjectName(subjectName);\r\n  }\r\n\r\n  const fetchThreadById = async (_id1, _id2) => {\r\n    let singleThread = await fetch(`/api/forums/${_id1}/${_id2}`)\r\n    singleThread= await singleThread.json();\r\n    setThread(singleThread);\r\n    setThreadId(_id2);\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchFroums()\r\n  }, [])\r\n\r\n  const values = {\r\n    fetchFroums,\r\n    subjects,\r\n    fetchFroumById,\r\n    threads,\r\n    fetchThreadById,\r\n    thread,\r\n    subjectId,\r\n    subjectName,\r\n    threadId\r\n  }\r\n\r\n  return (\r\n    <ForumContext.Provider value={values}>\r\n      {props.children}\r\n    </ForumContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ForumContextProvider\r\n","export default __webpack_public_path__ + \"static/media/waves.3e7f877a.png\";","import React from 'react';\r\nimport bgimage from '../images/waves.png'\r\n\r\nconst Jumbotron = (props) => {\r\n  return (\r\n    <div className=\"jumbotron mb-2 text-center\" \r\n      style={{ backgroundImage: `url(${bgimage})`, backgroundSize: 'cover' }}>\r\n      <p className=\"home-text\">Storms don't <br/> last forever</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Jumbotron;\r\n","import React, {useContext} from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport Jumbotron from '../components/Jumbotron'\r\n\r\nconst Home = () => {\r\n  const { subjects, fetchFroumById } = useContext(ForumContext)\r\n\r\n  const mapSubjects = () => {\r\n    return subjects.map((subject, i) => {\r\n      return (\r\n        <div key={'sub' + subject._id + i}>\r\n          <Row className=\"mx-0\">\r\n            <Col xs=\"12\" sm=\"8\">\r\n              <Link to={`/${subject.subject}`} style={{ textDecoration: 'none' }}\r\n                onClick={()=>fetchFroumById(subject._id, subject.subject)}>\r\n                <h2 className=\"text-secondary mt-1 px-2\">{subject.subject}</h2>\r\n                <p className=\"text-dark text-justify px-2\">{subject.description}</p>\r\n              </Link>       \r\n            </Col>\r\n            <Col sm=\"4\" className=\"mt-5 text-right d-none d-sm-block d-md-block d-lg-block pr-4\">\r\n              <h5>{subject.threads.length}</h5>\r\n            </Col>\r\n          </Row>\r\n          <hr/>\r\n        </div>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    <Container fluid className=\"px-0\">\r\n      <Row className=\"mx-0 px-0 jumbotron-area\">\r\n        <Col lg=\"12\" className=\"px-0\">\r\n          <Jumbotron/>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n\r\n      <Container className=\"mx-auto px-0\">      \r\n        <Row className=\"foram-area\">\r\n          <Col lg=\"12\">\r\n            <Row className=\"text-white border border-rounded pt-2 mb-3 forum-bar\"\r\n              style={{margin: \"0 0.5px 0 0.5px\", borderRadius: \"5px\"}}>\r\n              <Col xs=\"12\" sm=\"8\"><h4 className=\"pl-2\">Forums</h4></Col>\r\n              <Col sm=\"4\" className=\"text-right d-none d-md-block d-sm-block d-lg-block\"><h4>Threads</h4></Col>\r\n            </Row>\r\n            {subjects&&mapSubjects()}\r\n          </Col>\r\n        </Row>      \r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n\r\n","import React, {useContext} from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst ThreadList = () => {\r\n  const { threads, subjectId, subjectName, fetchThreadById } = useContext(ForumContext);\r\n\r\n   const props = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } })\r\n\r\n  const mapThreads = () => {\r\n    return threads.map((thread, i) => {\r\n      return (\r\n        <div key={'sub' + thread._id + i}>\r\n        <Row>\r\n          <Col xs=\"9\" sm=\"8\">\r\n            <Link to={`/${subjectName}/${thread.topic}`} style={{ textDecoration: 'none' }}\r\n              onClick={()=>fetchThreadById(subjectId, thread._id)}>\r\n              <h5 className=\"text-secondary mt-1 pb-0\">{thread.topic}</h5>\r\n              <p className=\"text-primary mt-0 pt-0\">Writer: {thread.author.username.toUpperCase()}</p>\r\n            </Link>       \r\n          </Col>\r\n          <Col xs=\"3\" sm=\"4\" className=\"text-right mt-2 d-none d-lg-block\">{thread.posts.length}</Col>\r\n        </Row>\r\n        <hr className=\"mt-1\"/>\r\n        </div>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container className=\"themed-container\">\r\n      <Row className=\"text-light pt-2 mb-3 thread-bar\">\r\n        <Col xs=\"9\" sm=\"8\">\r\n        <h5>\r\n          <Link to={`/`} style={{ textDecoration: 'none' }}>\r\n            <span className=\"subject-name\"> Home </span> \r\n          </Link>\r\n            &#187; {subjectName} \r\n        </h5>\r\n        </Col>\r\n        <Col xs=\"3\" sm=\"4\" className=\"text-lg-right d-none d-lg-block\"><h5>Answers</h5></Col>\r\n      </Row>\r\n      <animated.div style={props}>{threads && mapThreads()}</animated.div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ThreadList\r\n","import React, { createContext, useState, useEffect } from 'react'\r\n\r\nexport const UserContext = createContext()\r\n\r\nconst UserContextProvider = (props) => {\r\n  const [user, setUser] = useState(null)\r\n \r\n  useEffect(()=>{\r\n     const token = JSON.parse(localStorage.getItem('token'))\r\n    if (token) {\r\n      setUser(token)\r\n    }\r\n  },[])\r\n\r\n  const values = {\r\n    user,\r\n    setUser\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={values}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default UserContextProvider","import React, {useContext, useState} from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Fade } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment'\r\n\r\nconst Thread = () => {\r\n  const { subjectName, thread, subjectId, threadId, fetchThreadById } = useContext(ForumContext)\r\n  const { user } = useContext(UserContext)\r\n  const [comment, setComment] = useState('')\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [showEditForm, setShowEditForm] = useState(false)\r\n  const [editText, setEditText] = useState('');\r\n\r\n  const props = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } });\r\n\r\n  const timeFormat = (time) => {\r\n    return moment(time).format(\"YYYY-MM-DD, H:mm\");\r\n  }\r\n\r\n  const toggleButton = () =>  setShowForm(!showForm)\r\n  const toggleEditButton = () => setShowEditForm(!showEditForm)\r\n\r\n  const editThread = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/${subjectId}/${threadId}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify({\r\n        topic:thread.topic,\r\n        text:editText}),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        fetchThreadById(subjectId, threadId)\r\n        setEditText('')\r\n        toggleEditButton()\r\n      } \r\n    })\r\n  }\r\n\r\n\r\n  const renderEditForm = ()=>{\r\n    return(\r\n      <>\r\n        <Row>  \r\n          <Col xs=\"12\" sm=\"3\">\r\n            <h5 className=\"text-secondary\">{user.username.toUpperCase()}</h5>\r\n            <p className=\"pb-2 text-warning\">is going to modify</p>\r\n          </Col>       \r\n          <Col xs=\"12\" sm=\"9\">\r\n            <Form onSubmit={editThread}>\r\n              <FormGroup>\r\n                <textarea name=\"text\" id=\"text\" placeholder=\"Write your comment here...\" \r\n                  className=\"form-control\" pattern=\".{20, 5000}\" required minLength=\"20\" \r\n                  defaultValue={thread.text} onChange={e=>setEditText(e.target.value)}></textarea>\r\n              </FormGroup>\r\n              <button className=\"btn btn-outline-success mt-0\" \r\n                style={{height: \"26px\", width: \"162px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Updated Text\r\n              </button>\r\n            </Form>\r\n            <button className=\"btn btn-outline-danger mt-0\" onClick={()=>toggleEditButton()}\r\n              style={{position: \"relative\", left: 170, top: -25, height: \"26px\", \r\n              width: \"120px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Cancel\r\n            </button>          \r\n          </Col>\r\n        </Row>\r\n        <hr/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const deleteThread = async () => {\r\n    await fetch(`/api/forums/${subjectId}/${threadId}`, {\r\n      method: 'DELETE'\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        props.history.push('/')     \r\n      } \r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  const writeComment = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/${subjectId}/${threadId}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({text:comment}),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      setComment('');\r\n      toggleButton()\r\n      fetchThreadById(subjectId, threadId)\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  const renderForm = ()=>{\r\n    return(\r\n      <>\r\n        <Row>  \r\n          <Col xs=\"12\" sm=\"3\">\r\n            <h5 className=\"text-secondary\">{user.username.toUpperCase()}</h5>\r\n            <p className=\"pb-2 text-warning\">is going to reply</p>\r\n          </Col>       \r\n          <Col xs=\"12\" sm=\"9\">\r\n            <Form onSubmit={writeComment}>\r\n              <FormGroup>\r\n                <textarea name=\"text\" id=\"text\" placeholder=\"Write your comment here...\" \r\n                  className=\"form-control\" pattern=\".{100, 5000}\" required minLength=\"100\" \r\n                  value={comment} onChange={e=>setComment(e.target.value)}></textarea>\r\n              </FormGroup>\r\n              <button className=\"btn btn-outline-success mt-0\" \r\n                style={{height: \"26px\", width: \"162px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Comment\r\n              </button>\r\n            </Form>\r\n            <button className=\"btn btn-outline-danger mt-0\" onClick={()=>toggleButton()}\r\n              style={{position: \"relative\", left: 170, top: -25, height: \"26px\", \r\n              width: \"120px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Cancel\r\n            </button>          \r\n          </Col>\r\n        </Row>\r\n        <hr/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const mapThreads = () => {\r\n      return (\r\n        <div key={'sub' + thread._id}>\r\n          <Row className=\"text-light pt-2 thread-bar\">\r\n            <Col xs=\"12\" sm=\"12\" md=\"8\">\r\n              <h5>\r\n                <Link to={`/`} style={{ textDecoration: 'none' }}>\r\n                  <span className=\"subject-name\"> Home </span> \r\n                </Link>\r\n                 &#187; \r\n                <Link to={`/${subjectName}`} style={{ textDecoration: 'none' }}>\r\n                  <span className=\"subject-name\"> {subjectName} </span> \r\n                </Link>\r\n                &#187; {thread.topic}\r\n              </h5>\r\n            </Col>\r\n            <Col xs=\"0\" sm=\"0\" md=\"4\" className=\"text-lg-right d-none d-lg-block\"><h5>{thread.posts.length} Comments</h5></Col>\r\n          </Row>\r\n          <Row className=\"mt-3\">\r\n            <Col xs=\"12\" sm=\"3\">\r\n              <p className=\"mb-0 text-danger\">Writer</p>\r\n              <h4 className=\"text-secondary pb-2\">{thread.author.username.toUpperCase()}</h4>              \r\n            </Col>\r\n            <Col xs=\"12\" sm=\"9\">\r\n              <p className=\"mb-0\">{timeFormat(thread.created)}</p>\r\n              <p className=\"text-dark mt-1 text-justify\" style={{whiteSpace: \"pre-wrap\"}}>{thread.text}</p>         \r\n              {(() => {\r\n                if (user!==null) {\r\n                  return (\r\n                    <>\r\n                    <hr className=\"p-0 m-0\"/>\r\n                    <button className=\"btn btn-outline-success mt-3 mr-2\" onClick={()=>toggleButton()}\r\n                        style={{height: \"26px\", width: \"90px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Reply\r\n                    </button>\r\n                    </>\r\n                  )\r\n                }\r\n              })()}\r\n              {(() => {      \r\n                if (user !==null && (user.id === thread.author.id || user.role === 'admin' || user.role === 'moderator')) {\r\n                  return (\r\n                    <>\r\n                    <button className=\"btn btn-outline-primary mt-3 mr-2\" onClick={()=>toggleEditButton()}\r\n                        style={{height: \"26px\", width: \"90px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Edit\r\n                    </button>\r\n                    <button className=\"btn btn-outline-danger mt-3\" onClick={()=>deleteThread()}\r\n                        style={{height: \"26px\", width: \"90px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Delete\r\n                    </button> \r\n                    </>\r\n                  )\r\n                } \r\n              })()}\r\n            </Col>  \r\n          </Row>\r\n           <hr/>\r\n          <Fade in={showForm} tag=\"h5\" className=\"mt-3\">\r\n            {showForm&&renderForm()}    \r\n          </Fade> \r\n          <Fade in={showEditForm} tag=\"h5\" className=\"mt-3\">  \r\n            {showEditForm&&renderEditForm()}  \r\n          </Fade>      \r\n        </div>     \r\n      )\r\n  }\r\n\r\n  const mapThreadPosts = () => {\r\n    return thread.posts.map((post, i) => {\r\n      return (\r\n        <div key={'pos' + post._id}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"3\">\r\n              <p className=\"mb-0 text-success\">Replied by</p>\r\n              <h5 className=\"text-secondary pb-2\">{post.author.username.toUpperCase()}</h5>\r\n            </Col>\r\n            <Col xs=\"12\" sm=\"9\">\r\n              <p className=\"mb-0\">{timeFormat(post.created)}</p>\r\n              <p className=\"text-secondary mt-1 text-justify\">{post.text}</p>     \r\n            </Col>\r\n          </Row>\r\n          <hr/>\r\n        </div>  \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container className=\"themed-container\">\r\n      <animated.div style={props}>{thread && mapThreads()}</animated.div>\r\n      <animated.div style={props}>{thread && mapThreadPosts()}</animated.div> \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Thread","import React, { useState, useContext,useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport {Container, Collapse, Navbar, NavbarToggler, Nav, NavItem} from 'reactstrap';\r\n\r\nconst ForumNavbar= (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggle = () => setIsOpen(!isOpen);\r\n  const { user, setUser} = useContext(UserContext);\r\n\r\n  /**\r\n   * Sticky Navabr\r\n   */\r\n  const [scrolled, setScrolled]= useState(false);\r\n  const handleScroll = () => {\r\n    const offset = window.scrollY;\r\n    offset > 200 ?setScrolled(true):setScrolled(false); \r\n  }\r\n\r\n  useEffect(()=>{\r\n    window.addEventListener('scroll', handleScroll);\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (scrolled) {\r\n      document.getElementById(\"sticky\").classList.add(\"sticky-top\");\r\n    }else{\r\n      document.getElementById(\"sticky\").classList.remove(\"sticky-top\");\r\n    }\r\n  }, [scrolled])\r\n \r\n  /**\r\n  * Function to logout users.\r\n  */\r\n  const logoutUser = async () => {\r\n    await fetch('/logout')\r\n    setUser(null)\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar px-0 py-0\" id=\"sticky\">\r\n      <Container className=\"px-lg-0\">\r\n        <Navbar light expand=\"md\" className=\"px-0\">\r\n          <Link to=\"/\" className=\"navbar-brand text-datk font-weight-bold\"><h3>MRIDU FORUM</h3></Link>\r\n          <NavbarToggler onClick={toggle} />\r\n          <Collapse isOpen={isOpen} navbar>\r\n            <Nav className=\"ml-auto mt-2 right-nav\" navbar>\r\n              <NavItem>\r\n                <Link to=\"/about\">\r\n                  <h5 className=\"text-dark mr-lg-4\">ABOUT</h5>\r\n                </Link>\r\n              </NavItem>\r\n              {!user?(\r\n              <>\r\n                <NavItem>\r\n                  <Link to=\"/register\">\r\n                    <h5 className=\"text-dark mr-lg-4\">REGISTER</h5>\r\n                  </Link>\r\n                </NavItem>\r\n                <NavItem>\r\n                  <Link to=\"/signin\">\r\n                    <h5 className=\"text-dark\">SIGN IN</h5>\r\n                  </Link>\r\n                </NavItem>\r\n              </>\r\n              ):(\r\n              <>\r\n                <NavItem>\r\n                  <Link to=\"/mypage\">\r\n                    <h5 className=\"text-dark mr-lg-4\">MY PAGE</h5>\r\n                  </Link>\r\n                </NavItem>\r\n                <NavItem>\r\n                  <Link onClick={logoutUser} to=\"/\"> \r\n                    <h5 className=\"text-dark\">LOGOUT</h5>\r\n                  </Link>\r\n                </NavItem>\r\n              </>\r\n              )}\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForumNavbar;","import React from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container, Row, Col} from 'reactstrap'\r\nlibrary.add(fab)\r\n\r\nconst ForumFooter = () => {\r\n  return (\r\n    <div className=\"footer\">\r\n      <Container className=\"bottom footer-bar\" fluid>\r\n        <Row>\r\n          <Col lg=\"12\" className=\"px-0\">\r\n            <div className=\"footer-bar\"></div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <div className=\"footer-top\">\r\n      <Container className=\"px-lg-0\">\r\n        <Row className=\"\">      \r\n          <Col lg=\"4\" className=\"pt-3\">\r\n            <p className=\"mb-0 font-weight-bold text-priamry\">CONTACT</p>\r\n            <hr className=\"my-0 bg-secondary\"/>\r\n            <p className=\"mb-0\"><span className=\"text-white\">MARUF AHMED</span></p>\r\n            <p className=\"mb-0 \"><span className=\"text-white\">Email: </span><span className=\"text-white\">maruf.ahmed@live.se</span></p>\r\n            <p><span  className=\"text-white\">GitHub :</span><span className=\"text-white\"> github.com/mriduava/mridu-forum</span></p>\r\n          </Col>\r\n          <Col lg=\"4\" className=\"pt-3 text-lg-center\">\r\n            <p className=\"mb-0 font-weight-bold text-priamry\">MEDIA ICONS</p>\r\n            <hr className=\"my-0 bg-secondary\"/>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <h4 className=\"mt-3 mr-1\">\r\n                <span className=\"text-white\"><FontAwesomeIcon icon={[\"fab\", \"linkedin\"]} /></span>\r\n              </h4>\r\n              <h4 className=\"mt-3 mx-1\">\r\n                <span className=\"text-white\"><FontAwesomeIcon icon={[\"fab\", \"facebook\"]} /></span>\r\n              </h4>\r\n              <h4 className=\"mt-3 mx-1\">\r\n                <span className=\"text-white\"><FontAwesomeIcon icon={[\"fab\", \"github\"]} /></span>\r\n              </h4>\r\n            </div>   \r\n          </Col>\r\n          <Col lg=\"4\" className=\"text-lg-right pt-3\">\r\n            <p className=\"mb-0 font-weight-bold text-priamry\">USEFUL LINK</p>\r\n            <hr className=\"my-0 bg-secondary\"/>\r\n            <Link className=\"text-dark\" to=\"/signin\">\r\n              <p className=\"mb-0\"><span className=\"text-white\">SIGN IN</span></p>\r\n            </Link>\r\n            <Link className=\"text-dark\" to=\"/register\">\r\n              <p className=\"mb-0\"><span className=\"text-white\">REGISTER</span></p>\r\n            </Link>\r\n            <Link className=\"text-dark\" to=\"/about\">\r\n              <p className=\"mb-0\"><span className=\"text-white\">ABOUT</span></p>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      </div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col lg=\"12\" className=\"footer-bottom\">\r\n            <div style={{height: \"30px\"}}>\r\n              <p className=\"mb-0\">&copy; 2021 MARUF AHMED</p>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container> \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForumFooter\r\n","import React, {useState, useContext} from 'react';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Label, Input } from 'reactstrap';\r\n\r\nconst Register = (props) => {\r\n  const { setUser } = useContext(UserContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  //CHECK WHITE SPACE, & LENGTH OF THE STRING\r\n  const isValidData = (value, stringLength) => {\r\n    let inValid = new RegExp('^[_A-z0-9]{1,}$');\r\n    let result = inValid.test(value);\r\n    if(result && value.length >= stringLength){\r\n     return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  const registerUser = async(e) => {\r\n    e.preventDefault();\r\n    if (!isValidData(username, 3)) {\r\n       setMessage(\"Username must be at least 3 characters without space!\")\r\n       return;\r\n    }\r\n    if (!isValidData(password, 6)) {\r\n       setMessage(\"Password must be at least 6 characters without space!\")\r\n       return;\r\n    }\r\n    const credentials = {\r\n      username,\r\n      password\r\n    }      \r\n    await fetch('/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        response = response.json();\r\n        Promise.resolve(response)\r\n        .then(user => setUser(user))          \r\n        props.history.push('/signin') \r\n      } else {  \r\n        setMessage(\"Username is used!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Container className=\"border border-secondary pb-5 register-area\" style={{minHeight:\"80vh\"}}>\r\n      <Row>\r\n        <Col xs=\"12\" sm=\"8\" md=\"6\" lg=\"5\" className=\"mx-auto m-5 border border-rounded p-5\"> \r\n          <h4 className=\"text-dark font-weight-bold\">Registration</h4>\r\n          <hr/>\r\n          <Form onSubmit={registerUser}>\r\n            <FormGroup>\r\n              <Label for=\"username\">Username</Label>\r\n              <Input type=\"username\" name=\"username\" id=\"username\"\r\n                value={username} onChange={e=>setUsername(e.target.value)} required/>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"password\">Password</Label>\r\n              <Input type=\"password\" name=\"password\" id=\"password\"\r\n                value={password} onChange={e=>setPassword(e.target.value)} required/>\r\n            </FormGroup>\r\n            <button className=\"btn btn-block btn-outline-success mt-4\">SUBMIT</button>\r\n            <div className=\"pt-2 text-danger\">{message}</div>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React, {useState, useContext} from 'react';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Label, Input, FormFeedback } from 'reactstrap';\r\n\r\nconst Signin = (props) => {\r\n  const { setUser} = useContext(UserContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  const loginUser = async (e) => {\r\n    e.preventDefault();\r\n    const credentials = {\r\n      username, password\r\n    }\r\n    await fetch('/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        response = response.json();\r\n        Promise.resolve(response)\r\n        .then(user => {\r\n          setUser(user)\r\n          localStorage.setItem('token', JSON.stringify(user)) \r\n        })             \r\n        props.history.push('/mypage') \r\n      } else {\r\n        setMessage(\"Username or Password incorrect!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Container className=\"border border-secondary pb-5\" style={{minHeight:\"80vh\"}}>\r\n      <Row>\r\n        <Col xs=\"12\" sm=\"8\" md=\"6\" lg=\"5\" className=\"mx-auto m-5 border border-rounded p-5\"> \r\n          <h4 className=\"text-dark font-weight-bold\">Sign in</h4>\r\n          <hr/>\r\n          <div className=\"d-block\">\r\n            <a href=\"http://localhost:3200/auth/google\" className=\"btn btn-outline-danger d-block\"><span className=\"fa fa-google\"></span> SignIn with Google</a>\r\n          </div>\r\n          <hr/>\r\n          <Form onSubmit={loginUser}>\r\n            <FormGroup>\r\n              <Label for=\"username\">Username</Label>\r\n              <Input type=\"username\" name=\"username\" id=\"username\" \r\n                value={username} onChange={e=>setUsername(e.target.value)} required/>\r\n              <FormFeedback valid>Username is not correct!</FormFeedback>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"password\">Password</Label>\r\n              <Input type=\"password\" name=\"password\" id=\"password\"\r\n                value={password} onChange={e=>setPassword(e.target.value)} required/>\r\n              <FormFeedback>Wrong password!</FormFeedback>\r\n            </FormGroup>\r\n            <button className=\"btn btn-block btn-outline-success mt-4\">SUBMIT</button>\r\n            <div className=\"pt-2 text-danger\">{message}</div>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Signin\r\n","import React from 'react'\r\nimport { Container } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst About = () => {\r\n  const props = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } })\r\n  return (\r\n    <Container style={{textAlign:'center', minHeight:\"80vh\"}} className=\"border border-secondary pb-5\">\r\n      <animated.div style={props}>\r\n        <h1 style={{marginTop: '10%'}}>THIS IS A DEMO WEB SITE</h1>\r\n      </animated.div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default About\r\n","import React, {useContext, useState, useEffect } from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Form, FormGroup, Input } from 'reactstrap';\r\n\r\nconst WritingForm = () => {\r\n  const { subjects } = useContext(ForumContext)\r\n  const [subforumId, setSubforumId] = useState('')\r\n  const [topic, setTopic] = useState('')\r\n  const [text, setText] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  const mapSubjects = () => {\r\n    return(\r\n      <Input type=\"select\" name=\"select\" id=\"exampleSelect\" required\r\n        onChange={e=>setSubforumId(e.target.value)}>\r\n         <option value =''>Select a Sub-Forum</option>\r\n         {(() => {\r\n          return subjects.map((subject, i) => {\r\n            return (\r\n              <option key={'sub' + subject._id + i} \r\n                value={subject._id}>\r\n                {subject.subject}\r\n              </option>\r\n            )\r\n          })\r\n        })()}\r\n      </Input>\r\n    )\r\n  }\r\n\r\n  const displayAlert = () => {\r\n    return(\r\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">{message}</div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (message!==null) {\r\n        setMessage(null)\r\n      }\r\n    }, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [message]);\r\n\r\n  const createThread = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/${subforumId}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({topic, text}),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        setMessage(\"Thread submission successful!\") \r\n        setSubforumId('')\r\n        setTopic('')\r\n        setText('')      \r\n      } else {\r\n        setMessage(\"Thread submission failed!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Form className=\"mt-3 mb-4\" onSubmit={createThread}>\r\n      <FormGroup>\r\n        {subjects&&mapSubjects()}   \r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Input type=\"text\" name=\"topic\" id=\"topic\" placeholder=\"Write a title...\" \r\n          minLength=\"6\" value={topic} onChange={e=>setTopic(e.target.value)} required/>\r\n      </FormGroup>     \r\n      <FormGroup>\r\n        <Input type=\"textarea\" name=\"text\" id=\"text\" placeholder=\"Write in detail...\" \r\n          minLength=\"15\" value={text} onChange={e=>setText(e.target.value)} required/>\r\n      </FormGroup>\r\n      <button className=\"btn btn-outline-success mt-0\" \r\n        style={{height: \"26px\", width: \"190px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Thread\r\n      </button>\r\n    </Form>\r\n      {message&&displayAlert()}\r\n      <hr/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WritingForm\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Row, Col } from 'reactstrap';\r\nimport { useSpring, animated } from 'react-spring'\r\n\r\nconst MyThreads= () => {\r\n  const { user } = useContext(UserContext)\r\n  const [myThreads, setMyThreads] = useState([])\r\n\r\n  const props = useSpring({ to: { opacity: 1 }, from: { opacity: 0 } });\r\n\r\n  useEffect(()=>{\r\n    const fetchMyThreads = async () => {\r\n      let allMyThreads = await fetch(`/search/mythreads?username=${user.username}`)\r\n      allMyThreads = await allMyThreads.json();\r\n      setMyThreads(allMyThreads)\r\n    }\r\n    fetchMyThreads()\r\n  }, [user.username])\r\n\r\n  const mapThreads = () => {\r\n    return myThreads.map((thread, i) => {\r\n      return (\r\n        <ul key={'sub' + thread._id + i}>\r\n          <li>\r\n            {i+1}.\r\n            <span> {thread.topic}</span>\r\n          </li>    \r\n        </ul>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return ( \r\n    <Row>\r\n      <Col lg=\"12\">\r\n        <animated.div className=\"my-threads\" style={props}>\r\n          {myThreads&&mapThreads()}\r\n        </animated.div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default MyThreads\r\n","import React, {useState, useEffect, useContext } from 'react'\r\nimport { ForumContext } from '../contexts/ForumContextProvider'\r\nimport { Form, FormGroup, Input } from 'reactstrap';\r\n\r\nconst ForumForm = () => {\r\n  const { fetchFroums} = useContext(ForumContext)\r\n  const [forumSubject, setForumSubject] = useState('')\r\n  const [forumDescription, setForumDescription] = useState('')\r\n  const [message, setMessage] = useState()\r\n\r\n\r\n   const displayAlert = () => {\r\n    return(\r\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">{message}</div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (message!==null) {\r\n        setMessage(null)\r\n      }\r\n    }, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [message]);\r\n\r\n  const createSubForum = async (e) => {\r\n    e.preventDefault();\r\n    await fetch(`/api/forums/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n          subject: forumSubject, \r\n          description: forumDescription\r\n        }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      fetchFroums()\r\n      if (response.ok) {\r\n        setMessage(\"Sub-Forum submission successful!\") \r\n        setForumSubject('')\r\n        setForumDescription('')      \r\n      } else {\r\n        setMessage(\"Sub-Forum submission failed!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject();\r\n    });\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <Form className=\"mt-3 mb-4\" onSubmit={createSubForum}>\r\n      <FormGroup>\r\n        <Input type=\"select\" name=\"select\" id=\"exampleSelect\" disabled>\r\n         <option value ='' disabled>Select a Sub-Forum</option>\r\n        </Input>  \r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Input type=\"text\" name=\"topic\" id=\"topic\" placeholder=\"Write a forum subject..\" \r\n          value={forumSubject} onChange={e=>setForumSubject(e.target.value)} required/>\r\n      </FormGroup>     \r\n      <FormGroup>\r\n        <Input type=\"textarea\" name=\"text\" id=\"text\" placeholder=\"Write forum description...\" \r\n          value={forumDescription} onChange={e=>setForumDescription(e.target.value)} required/>\r\n      </FormGroup>\r\n      <button className=\"btn btn-outline-success mt-0\" \r\n        style={{height: \"26px\", width: \"190px\", fontSize: \"13px\", paddingTop: \"2px\"}}>Submit Sub-Forum\r\n      </button>\r\n    </Form>\r\n     {message&&displayAlert()}\r\n     <hr/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ForumForm\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Container, Row, Col, Form, FormGroup, Input, FormFeedback } from 'reactstrap';\r\nimport WritingForm from './WritingForm'\r\nimport MyThreads from './MyThreads'\r\nimport ForumForm from './ForumForm'\r\n\r\nconst AdminPage = () => {\r\n  const { user } = useContext(UserContext)\r\n  const [showMyThreads, setShowMyThreads] = useState(true);\r\n  const toggleMyThreads = () => setShowMyThreads(!showMyThreads);\r\n  const [showForm, setShowForm] = useState(true)\r\n  const toggleShowForm = () => setShowForm(!showForm)\r\n  const [search, setSearch] = useState('')\r\n  const [foundUser, setFoundUser] = useState(null)\r\n  const [selectedRole, setSelectedRole] = useState('');\r\n  const [userId, setUserId] = useState(null);\r\n  const [userName, setUserName] = useState(null);\r\n  const [userRole, setUserRole] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const searchUser = async (e) => {\r\n    e.preventDefault();    \r\n    let user = await fetch(`/search/user?username=${search}&role=${search}`)\r\n    user = await user.json();\r\n    setFoundUser(user)\r\n    setSearch('')\r\n  }\r\n\r\n  const deleteUser = async (id) => {\r\n    await fetch(`/api/users/${id}`, {\r\n      method: 'DELETE'\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        setUserName(null)\r\n        setMessage('The user has been deleted!')   \r\n      } \r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  const dispUserInfo =() => {\r\n    return foundUser.map((u, i) => {\r\n      return (\r\n        <div key={'sub' + u._id + i}>\r\n          <hr/>\r\n          <Row className=\"pt-2 found_user\" style={{cursor: \"pointer\"}}\r\n            onClick={()=>transferUserInfo(u._id, u.username, u.role)}>\r\n            <Col xs=\"9\" sm=\"8\">  \r\n              <h4 className=\"text-secondary mt-1 pb-0\">{u.username}</h4>\r\n              <p className=\"text-primary mt-0 pt-0\">role: {u.role}</p>\r\n            </Col>         \r\n          </Row>\r\n        </div>    \r\n      )\r\n    })\r\n  }\r\n\r\n  const transferUserInfo =(id, username, role) => {\r\n    setUserId(id)\r\n    setUserName(username);\r\n    setUserRole(role);\r\n    setFoundUser(null);\r\n    setSelectedRole(role);\r\n  }\r\n\r\n  const resetUserRole = async (e) => {\r\n    e.preventDefault();    \r\n    await fetch(`/api/users?username=${userName}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify({role:selectedRole}),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        setUserName(null)\r\n        setMessage('Role setting successful!')\r\n      } else {\r\n        setMessage(\"Role setting failed!\")\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  const dispToModifyUser = ()=>{\r\n    return(\r\n      <>\r\n      <div className=\"bg-success pt-2 pl-0 ml-0 mb-3 pb-0\" style={{height: \"40px\", hover: {color: \"white\"} }} >\r\n        <h5 className=\"pl-2 text-light pb-0\">Modify User</h5>  \r\n      </div>\r\n      <Row className=\"pl-1\">\r\n        <Col xs=\"12\" sm=\"12\" lg=\"6\">\r\n          <h5>Username</h5>\r\n          <div>\r\n            <h2 className=\"text-info mt-2 p-0\">{userName}</h2>\r\n            <p className=\"text-success mt-0 pt-0\">Present Role: {userRole}</p>\r\n          </div>\r\n          <button className=\"btn btn-outline-danger mt-3\" onClick={()=>deleteUser(userId)}\r\n              style={{height: \"30px\", width: \"150px\", fontSize: \"16px\", paddingTop: \"2px\"}}>Delete User\r\n          </button>\r\n        </Col>\r\n        <Col xs=\"12\" sm=\"12\" lg=\"6\" >\r\n          <Form onSubmit={resetUserRole}>\r\n            <h5 className=\"py-0\">Set role</h5>\r\n            <div className=\"form-check\">\r\n              <input type=\"radio\" className=\"mt-2\" value=\"admin\" \r\n                checked={selectedRole === 'admin'? true: false}\r\n                onChange={e=>setSelectedRole(e.target.value)}/>\r\n              <label className=\"form-check-label pl-2\">\r\n                admin\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check\">\r\n              <input type=\"radio\" className=\"mt-2\" value=\"moderator\" \r\n                checked={selectedRole === 'moderator'? true: false}\r\n                onChange={e=>setSelectedRole(e.target.value)} />\r\n              <label className=\"form-check-label pl-2\">\r\n                moderator\r\n              </label>\r\n            </div>\r\n            <div className=\"form-check\">\r\n              <input type=\"radio\" className=\"mt-2\" value=\"general\" \r\n                checked={selectedRole === 'general'? true: false}\r\n                onChange={e=>setSelectedRole(e.target.value)} />\r\n              <label className=\"form-check-label pl-2 mt-0\">\r\n                general\r\n              </label>\r\n            </div>\r\n            <button className=\"btn btn-outline-success my-3\" \r\n              style={{height: \"30px\", width: \"150px\", fontSize: \"16px\", paddingTop: \"2px\"}}>Set Role\r\n            </button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <hr style={{height:\"23px\"}}/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const displayAlert = () => {\r\n    return(\r\n      <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">{message}</div>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (message!==null) {\r\n        setMessage(null)\r\n      }\r\n    }, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [message]);\r\n\r\n\r\n  const renderModifyUser = () =>{\r\n    return(\r\n      <>\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <Form onSubmit={searchUser} className=\"d-flex\">\r\n            <FormGroup>\r\n              <Input type=\"username\" name=\"username\" id=\"username\" placeholder=\"Search user\"\r\n                className=\"border border-secondary\" style={{height: \"32px\"}}\r\n                value={search} onChange={e=>setSearch(e.target.value)} required/>\r\n              <FormFeedback valid>Username is not correct!</FormFeedback>\r\n            </FormGroup>\r\n            <button className=\"btn btn-outline-secondary py-0\" style={{height: \"32px\", width:\"120px\"}}>Search</button>\r\n          </Form>\r\n        </Col>\r\n        <div style={{fontSize: \"14px\"}}>\r\n          <p className=\"ml-3\" >Searh user by username or role. </p>\r\n          <p className=\"ml-3\" style={{marginTop: \"-15px\"}}>To modify a user, click on the username.</p>\r\n        </div>\r\n      </Row>\r\n\r\n      {foundUser&&dispUserInfo()}\r\n      <hr/>\r\n      {userName&&dispToModifyUser()}\r\n      {message&&displayAlert()}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container className=\"border border-warning pb-5\" style={{minHeight:\"80vh\"}}>\r\n\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <h1 className=\"text-info font-weight-bold pt-5 ml-3\">{user&&user.username.toUpperCase()}</h1>\r\n          <h6 className=\"text-secondary ml-3\">ROLE: <span className=\"text-success\">{user&&user.role.toUpperCase()}</span></h6>\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"mx-auto\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n          <Row className=\"d-flex\">\r\n            <Col lg=\"12\" className=\"d-flex justify-content-between\">\r\n                <button className=\"btn btn-outline-primary m-0\" disabled={showForm}\r\n                  onClick={toggleShowForm}>Create a Thread\r\n                </button>\r\n                <button className=\"btn btn-outline-primary align-self-end \" disabled={!showForm}\r\n                  onClick={toggleShowForm}>Create a Sub-Forum\r\n                </button>\r\n            </Col>\r\n          </Row>\r\n     \r\n          <hr className=\"ml-1\"/>\r\n           {showForm?(\r\n            <WritingForm/>\r\n           ):(\r\n            <ForumForm/>\r\n           )}\r\n        </Col>\r\n\r\n\r\n         <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n            <Row className=\"d-flex\">\r\n              <Col lg=\"12\" className=\"d-flex justify-content-between\">\r\n                <button className=\"btn btn-outline-info ml-lg-3\" disabled={showMyThreads}\r\n                  onClick={toggleMyThreads}>My Threads\r\n                </button>\r\n                <button className=\"btn btn-outline-info mr-0\" disabled={!showMyThreads} \r\n                  onClick={toggleMyThreads}>Modify User</button>\r\n              </Col>\r\n            </Row>\r\n\r\n           <hr className=\"ml-lg-3\"/>\r\n\r\n           <div className=\"ml-lg-3 mt-3\">\r\n              {showMyThreads?(\r\n                <div>\r\n                  <MyThreads/>\r\n                </div>  \r\n              ):(\r\n                <div>\r\n                  {renderModifyUser()}\r\n                </div>\r\n              )}\r\n           </div>\r\n        </Col>\r\n        \r\n      </Row>\r\n    \r\n      \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default AdminPage\r\n","import React, {useContext } from 'react'\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport WritingForm from './WritingForm'\r\nimport MyThreads from './MyThreads'\r\n\r\nconst Moderator = () => {\r\n  const { user } = useContext(UserContext)\r\n\r\n  return (\r\n    <Container className=\"border border-warning pb-5\" style={{minHeight:\"80vh\"}}>\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <h1 className=\"text-info font-weight-bold pt-5 ml-3\">{user&&user.username.toUpperCase()}</h1>\r\n          <h6 className=\"text-secondary ml-3\">ROLE: <span className=\"text-success\">{user&&user.role.toUpperCase()}</span></h6>\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"mx-auto\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n          <h4 className=\"ml-0\">Create a thread</h4>\r\n          <hr className=\"ml-1\"/>\r\n          <WritingForm/>\r\n        </Col>\r\n         <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n           <h4 className=\"ml-lg-3 mt-xs-5\">My threads</h4>\r\n           <hr className=\"ml-lg-3\"/>\r\n           <div className=\"ml-lg-3 mt-4\">\r\n              <MyThreads/>\r\n           </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Moderator","import React, {useContext } from 'react'\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport WritingForm from './WritingForm'\r\nimport MyThreads from './MyThreads'\r\n\r\nconst General = () => {\r\n  const { user } = useContext(UserContext)\r\n\r\n  return (\r\n    <Container className=\"border border-warning pb-5\" style={{minHeight:\"80vh\"}}>\r\n      <Row className=\"d-flex flex-column\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" className=\"pl-3 pt-0\"> \r\n          <h1 className=\"text-info font-weight-bold pt-5 ml-3\">{user&&user.username.toUpperCase()}</h1>\r\n          <h6 className=\"text-secondary ml-3\">ROLE: <span className=\"text-success\">{user&&user.role.toUpperCase()}</span></h6>\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"mx-auto\">\r\n        <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n          <h4 className=\"ml-0\">Create a thread</h4>\r\n          <hr className=\"ml-1\"/>\r\n          <WritingForm/>\r\n        </Col>\r\n         <Col xs=\"12\" sm=\"12\" md=\"6\" lg=\"6\">\r\n           <h4 className=\"ml-lg-3 mt-xs-5\">My threads</h4>\r\n           <hr className=\"ml-lg-3\"/>\r\n           <div className=\"ml-lg-3 mt-4\">\r\n              <MyThreads/>\r\n           </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default General","import React, {useContext} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport AdminPage from '../components/Admin'\r\nimport ModeratorPage from '../components/Moderator'\r\nimport GeneralPage from '../components/General'\r\n\r\nconst MyPage = () => {\r\n  const { user } = useContext(UserContext)\r\n\r\n  return (\r\n    <>\r\n    {(() => {\r\n        if (user!==null && user.role==='admin') {\r\n          return (\r\n            <><AdminPage/></>\r\n          )\r\n        } else if (user!==null && user.role==='moderator') {\r\n          return (\r\n            <><ModeratorPage/></>\r\n          )\r\n        } else {\r\n          return (\r\n            <><GeneralPage/></>\r\n          )\r\n        }\r\n      })()}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyPage\r\n","import React, {useContext} from 'react'\r\nimport { UserContext } from '../contexts/UserContextProvider'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useContext(UserContext);\r\n  \r\n  return (\r\n    <Route {...rest} render={\r\n      props => {\r\n        if (user) {\r\n          return <Component {...rest} {...props} />\r\n        } else {\r\n          return <Redirect to={\r\n            {\r\n              pathname: '/',\r\n              state: {\r\n                from: props.location\r\n              }\r\n            }\r\n          } />\r\n        }\r\n      }\r\n    } />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Home from './pages/Home'\r\nimport ThreadList from './components/ThreadList'\r\nimport Thread from './components/Thread'\r\nimport Navbar from './components/ForumNavbar'\r\nimport Footer from './components/ForumFooter'\r\nimport Register from './pages/Register'\r\nimport Signin from './pages/Signin'\r\nimport About from './pages/About'\r\nimport MyPage from './pages/MyPage'\r\nimport ProtectedRoute from './routes/ProtectedRoute'\r\nimport ForumContextProvider from './contexts/ForumContextProvider'\r\nimport UserContextProvider from './contexts/UserContextProvider'\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <UserContextProvider>\r\n      <ForumContextProvider>\r\n        <Router>         \r\n          <Navbar/>       \r\n            <div className=\"content\">\r\n              <Switch>  \r\n                <ProtectedRoute exact path='/mypage' component={MyPage} />          \r\n                <Route exact path=\"/\" component={Home} />                  \r\n                <Route exact path=\"/register\" component={Register} />\r\n                <Route exact path=\"/signin\" component={Signin} />\r\n                <Route exact path=\"/about\" component={About} /> \r\n                <Route exact path=\"/:id\" component={ThreadList} />\r\n                <Route exact path=\"/:id1/:id2\" component={Thread} />                                   \r\n              </Switch>\r\n            </div>\r\n          <Footer/>                    \r\n        </Router>\r\n      </ForumContextProvider>\r\n      </UserContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/main.scss';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}